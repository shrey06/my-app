currentBuild.displayName = "MyAppBuild#" + currentBuild.number
pipeline{
  agent any
  stages{
      stage("Code Checkout"){
        steps{
          git branch: 'devops', url: 'https://github.com/gauravjadhav8/my-app'
        }
      }
      stage("Compile-Package"){
        steps{
              sh "mvn clean package"
          }
      }
      stage("Email Notification"){
        steps{
           mail bcc: '', body: '''Hi Team,
Jenkins Build has run successfully.

Thanks,
Lendin Jenkins''',
           cc: '',
           from: '',
           replyTo: '',
           subject: 'Jenkins Pipeline POC',
           to: 'shrey.bhasin@kuliza.com,gaurav.jadhav@kuliza.com,manjunath.c@kuliza.com'
        }
      }
      
      stage("Slack Notification"){
        steps{  
            slackSend channel: '#jenkins-poc', color: 'good', message: 'Jenkins build ran sucessfully', tokenCredentialId: 'jenkins-poc-slack-token'
          }
      }
   }
}
